# 云盘客户端 - 使用说明

## 项目简介

本项目是一个基于Qt框架开发的云盘客户端，支持与云盘服务器进行通信，实现文件的上传、下载、删除、分享等管理操作，并提供操作历史记录查询功能。客户端采用C++语言开发，通过TCP协议与服务器进行数据交互，使用JSON格式封装通信消息，确保数据传输的规范性和可扩展性。


## 功能特点

1. **用户认证**：支持用户注册与登录功能，通过用户名和密码验证身份。
2. **文件管理**：
   - 查看当前目录下的文件和文件夹列表
   - 上传本地文件到云盘
   - 下载云盘文件到本地
   - 删除云盘中的文件
   - 支持文件夹导航（双击进入文件夹、返回上级目录）
3. **传输管理**：
   - 实时显示上传/下载进度条
   - 支持断点续传（网络中断后可继续传输）
   - 传输状态实时提示
4. **历史记录**：查看所有文件操作（上传/下载/删除/分享等）的历史记录，包括操作时间和状态（成功/失败）。
5. **文件分享**：支持向其他已注册用户分享文件，接收方可选择接受或拒绝，实现文件协作管理。
6. **网络交互**：自动处理网络连接状态，断线提示与错误处理。


## 环境要求

- **操作系统**：Windows（代码中包含`winsock2.h`，适配Windows系统）
- **开发框架**：Qt 5.12 及以上版本（推荐Qt 5.15）
- **编译器**：支持C++11及以上标准的编译器（如MinGW 7.3.0、MSVC 2017）
- **依赖库**：Qt Network（用于网络通信）、Qt Widgets（用于界面开发）


## 编译与运行

1. **环境准备**：
   - 安装Qt 5.12及以上版本（安装时勾选`Qt Network`和`Qt Widgets`模块）。
   - 配置Qt开发环境（确保`qmake`、`make`等工具可在命令行调用）。

2. **项目构建**：
   - 克隆或下载项目源码到本地。
   - 打开Qt Creator，通过`File -> Open File or Project`选择项目根目录下的`.pro`文件（如`client.pro`）。
   - 选择对应的编译器套件（如`Desktop Qt 5.15.2 MinGW 64-bit`）。
   - 点击`构建`按钮（或使用快捷键`Ctrl+B`）编译项目。

3. **运行客户端**：
   - 编译成功后，点击`运行`按钮启动客户端。
   - 若需在命令行运行，可在编译输出目录（如`build-client-Desktop_Qt_5_15_2_MinGW_64_bit-Debug`）中找到可执行文件（如`client.exe`），双击运行即可。


## 使用说明

### 1. 登录与注册

- 启动客户端后，首先进入登录界面。
- **注册**：输入用户名和密码，点击`注册`按钮，若注册成功会收到提示。
- **登录**：输入已注册的用户名和密码，填写服务器IP（默认`192.168.112.10`）和端口（默认`8000`），点击`登录`按钮。登录成功后自动进入云盘主界面。


### 2. 主界面操作

- **路径显示**：顶部显示当前所在云盘目录路径。
- **文件列表**：中间区域显示当前目录下的文件和文件夹。
- **功能按钮**：
  - `上传`：选择本地文件上传到当前目录。
  - `下载`：选择云盘文件下载到本地（需选择保存路径）。
  - `删除`：删除选中的云盘文件。
  - `刷新`：重新加载当前目录的文件列表。
  - `返回`：回到上级目录。
  - `历史`：查看操作历史记录。
  - `分享`：向其他用户分享选中的文件。
  - `退出`：退出登录，返回登录界面。


### 3. 历史记录查询

- 点击主界面的`历史`按钮，打开历史记录对话框。
- 对话框中以表格形式展示所有操作记录，包括文件名、操作类型、时间和状态。
- 点击`刷新`按钮可获取最新的历史记录。
- 点击`关闭`按钮返回主界面。


### 4. 文件分享

#### 发起分享
1. 在文件列表中选中需要分享的文件。
2. 点击主界面的`分享`按钮，弹出分享对话框。
3. 在对话框中输入接收者的用户名（需为已注册用户），点击`确认`发送分享请求。